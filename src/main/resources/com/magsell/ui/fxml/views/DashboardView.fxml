<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import com.jfoenix.controls.*?>
<?import io.github.palexdev.materialfx.controls.*?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.magsell.ui.controllers.DashboardViewController"
      spacing="20" styleClass="module-container">
    
    <!-- Header -->
    <HBox styleClass="module-header" alignment="CENTER_LEFT">
        <Label text="ðŸ“Š Dashboard" styleClass="module-title"/>
        <Pane HBox.hgrow="ALWAYS"/>
        
        <JFXButton text="ðŸ”„ ReÃ®ncarcÄƒ" styleClass="secondary-button" onAction="#refreshDashboard"/>
    </HBox>
    
    <!-- Statistics Cards -->
    <HBox spacing="20" alignment="CENTER">
        <!-- Total Products Card -->
        <VBox styleClass="stat-card" prefWidth="200" prefHeight="120" alignment="CENTER">
            <Label text="ðŸ“¦" styleClass="stat-icon"/>
            <Label text="Produse" styleClass="stat-title"/>
            <Label fx:id="totalProductsLabel" text="0" styleClass="stat-value"/>
        </VBox>
        
        <!-- Total Sales Card -->
        <VBox styleClass="stat-card" prefWidth="200" prefHeight="120" alignment="CENTER">
            <Label text="ðŸ’°" styleClass="stat-icon"/>
            <Label text="VÃ¢nzÄƒri AstÄƒzi" styleClass="stat-title"/>
            <Label fx:id="todaySalesLabel" text="0" styleClass="stat-value"/>
        </VBox>
        
        <!-- Low Stock Card -->
        <VBox styleClass="stat-card" prefWidth="200" prefHeight="120" alignment="CENTER">
            <Label text="âš ï¸" styleClass="stat-icon"/>
            <Label text="Stocuri ScÄƒzute" styleClass="stat-title"/>
            <Label fx:id="lowStockLabel" text="0" styleClass="stat-value"/>
        </VBox>
        
        <!-- Active Orders Card -->
        <VBox styleClass="stat-card" prefWidth="200" prefHeight="120" alignment="CENTER">
            <Label text="âš™ï¸" styleClass="stat-icon"/>
            <Label text="Comenzi Active" styleClass="stat-title"/>
            <Label fx:id="activeOrdersLabel" text="0" styleClass="stat-value"/>
        </VBox>
    </HBox>
    
    <!-- Content Area -->
    <HBox spacing="20" VBox.vgrow="ALWAYS">
        
        <!-- Left Column -->
        <VBox spacing="15" HBox.hgrow="ALWAYS">
            <!-- Recent Sales -->
            <VBox styleClass="dashboard-section" VBox.vgrow="ALWAYS">
                <Label text="ðŸ“ˆ VÃ¢nzÄƒri Recente" styleClass="section-title"/>
                <TableView fx:id="recentSalesTable" VBox.vgrow="ALWAYS" styleClass="data-table">
                    <columns>
                        <TableColumn fx:id="saleDateColumn" text="Data" prefWidth="100"/>
                        <TableColumn fx:id="saleProductColumn" text="Produs" prefWidth="150"/>
                        <TableColumn fx:id="saleQuantityColumn" text="Cantitate" prefWidth="80"/>
                        <TableColumn fx:id="saleAmountColumn" text="Valoare" prefWidth="100"/>
                    </columns>
                </TableView>
            </VBox>
        </VBox>
        
        <!-- Right Column -->
        <VBox spacing="15" HBox.hgrow="ALWAYS">
            <!-- Low Stock Alert -->
            <VBox styleClass="dashboard-section" VBox.vgrow="ALWAYS">
                <Label text="âš ï¸ AlertÄƒ Stocuri" styleClass="section-title"/>
                <TableView fx:id="lowStockTable" VBox.vgrow="ALWAYS" styleClass="data-table">
                    <columns>
                        <TableColumn fx:id="stockProductColumn" text="Produs" prefWidth="150"/>
                        <TableColumn fx:id="stockCurrentColumn" text="Stoc Curent" prefWidth="100"/>
                        <TableColumn fx:id="stockMinColumn" text="Stoc Minim" prefWidth="100"/>
                        <TableColumn fx:id="stockStatusColumn" text="Status" prefWidth="80"/>
                    </columns>
                </TableView>
            </VBox>
        </VBox>
        
    </HBox>
    
    <!-- Status Bar -->
    <HBox styleClass="module-status" alignment="CENTER_LEFT">
        <Label text="ðŸ“Š Ultima actualizare: --:--" fx:id="lastUpdateLabel"/>
        <Pane HBox.hgrow="ALWAYS"/>
        <Label text="ðŸ”„ Auto-refresh: Activ" styleClass="status-info"/>
    </HBox>
    
</VBox>
